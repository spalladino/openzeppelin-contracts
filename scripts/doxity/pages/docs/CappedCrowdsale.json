{"title":"CappedCrowdsale","fileName":"/contracts/crowdsale/CappedCrowdsale.sol","name":"CappedCrowdsale","abi":[{"constant":true,"inputs":[],"name":"rate","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"endTime","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"cap","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"weiRaised","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"wallet","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"startTime","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"beneficiary","type":"address"}],"name":"buyTokens","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"hasEnded","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"token","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_cap","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"purchaser","type":"address"},{"indexed":true,"name":"beneficiary","type":"address"},{"indexed":false,"name":"value","type":"uint256"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"TokenPurchase","type":"event"}],"bin":"","opcodes":"","source":"pragma solidity ^0.4.18;\n\nimport '../math/SafeMath.sol';\nimport './Crowdsale.sol';\n\n/**\n * @title CappedCrowdsale\n * @dev Extension of Crowdsale with a max amount of funds raised\n */\ncontract CappedCrowdsale is Crowdsale {\n  using SafeMath for uint256;\n\n  uint256 public cap;\n\n  function CappedCrowdsale(uint256 _cap) public {\n    require(_cap > 0);\n    cap = _cap;\n  }\n\n  // overriding Crowdsale#validPurchase to add extra cap logic\n  // @return true if investors can buy at the moment\n  function validPurchase() internal view returns (bool) {\n    bool withinCap = weiRaised.add(msg.value) <= cap;\n    return super.validPurchase() && withinCap;\n  }\n\n  // overriding Crowdsale#hasEnded to add cap logic\n  // @return true if crowdsale event has ended\n  function hasEnded() public view returns (bool) {\n    bool capReached = weiRaised >= cap;\n    return super.hasEnded() || capReached;\n  }\n\n}\n","abiDocs":[{"constant":true,"inputs":[],"name":"rate","payable":false,"stateMutability":"view","type":"function","signature":"rate()","signatureHash":"2c4e722e"},{"constant":true,"inputs":[],"name":"endTime","payable":false,"stateMutability":"view","type":"function","signature":"endTime()","signatureHash":"3197cbb6"},{"constant":true,"inputs":[],"name":"cap","payable":false,"stateMutability":"view","type":"function","signature":"cap()","signatureHash":"355274ea"},{"constant":true,"inputs":[],"name":"weiRaised","payable":false,"stateMutability":"view","type":"function","signature":"weiRaised()","signatureHash":"4042b66f"},{"constant":true,"inputs":[],"name":"wallet","payable":false,"stateMutability":"view","type":"function","signature":"wallet()","signatureHash":"521eb273"},{"constant":true,"inputs":[],"name":"startTime","payable":false,"stateMutability":"view","type":"function","signature":"startTime()","signatureHash":"78e97925"},{"constant":false,"inputs":[{"name":"beneficiary","type":"address"}],"name":"buyTokens","outputs":[],"payable":true,"stateMutability":"payable","type":"function","signature":"buyTokens(address)","signatureHash":"ec8ac4d8"},{"constant":true,"inputs":[],"name":"hasEnded","payable":false,"stateMutability":"view","type":"function","signature":"hasEnded()","signatureHash":"ecb70fb7"},{"constant":true,"inputs":[],"name":"token","payable":false,"stateMutability":"view","type":"function","signature":"token()","signatureHash":"fc0c546a"},{"inputs":[{"name":"_cap","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback","inputs":[]},{"anonymous":false,"inputs":[{"indexed":true,"name":"purchaser","type":"address"},{"indexed":true,"name":"beneficiary","type":"address"},{"indexed":false,"name":"value","type":"uint256"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"TokenPurchase","type":"event","signature":"TokenPurchase(address,address,uint256,uint256)","signatureHash":"623b3804"}]}
